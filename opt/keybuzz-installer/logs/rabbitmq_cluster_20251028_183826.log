
DÃ©ploiement RabbitMQ Cluster (3 nÅ“uds)
Timestamp: 2025-10-28 18:38:26

Configuration du cluster:
  queue-01 (seed): 10.0.0.126
  queue-02: 10.0.0.127
  queue-03: 10.0.0.128

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Ã‰TAPE 1: DÃ©ploiement des conteneurs RabbitMQ                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  DÃ©ploiement sur queue-01 (10.0.0.126)...
time="2025-10-28T18:38:27Z" level=warning msg="/opt/keybuzz/rabbitmq/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
 Network rabbitmq_default  Creating
 Network rabbitmq_default  Created
 Container rabbitmq  Creating
 Container rabbitmq  Error response from daemon: invalid IP address in add-host: ""
Error response from daemon: invalid IP address in add-host: ""
    âœ“ Container dÃ©marrÃ©
    âœ— queue-01: ProblÃ¨me de dÃ©marrage
  DÃ©ploiement sur queue-02 (10.0.0.127)...
time="2025-10-28T18:38:33Z" level=warning msg="/opt/keybuzz/rabbitmq/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
 Network rabbitmq_default  Creating
 Network rabbitmq_default  Created
 Container rabbitmq  Creating
 Container rabbitmq  Error response from daemon: invalid IP address in add-host: ""
Error response from daemon: invalid IP address in add-host: ""
    âœ“ Container dÃ©marrÃ©
    âœ— queue-02: ProblÃ¨me de dÃ©marrage
  DÃ©ploiement sur queue-03 (10.0.0.128)...
time="2025-10-28T18:38:39Z" level=warning msg="/opt/keybuzz/rabbitmq/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
 Network rabbitmq_default  Creating
 Network rabbitmq_default  Created
 Container rabbitmq  Creating
 Container rabbitmq  Error response from daemon: invalid IP address in add-host: ""
Error response from daemon: invalid IP address in add-host: ""
    âœ“ Container dÃ©marrÃ©
    âœ— queue-03: ProblÃ¨me de dÃ©marrage

  Attente de stabilisation (20s)...

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Ã‰TAPE 2: Formation du cluster                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  Ajout de queue-02 au cluster...
    âœ— Ã‰chec de jonction
  Ajout de queue-03 au cluster...
    âœ— Ã‰chec de jonction

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Ã‰TAPE 3: Configuration des politiques HA                       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  Configuration des quorum queues par dÃ©faut...
Error response from daemon: No such container: rabbitmq
Error response from daemon: No such container: rabbitmq
    âœ“ Politiques HA configurÃ©es

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Ã‰TAPE 4: VÃ©rification du cluster                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  Ã‰tat du cluster:

  Test de connectivitÃ©:
    queue-01: [0;31mKO[0m
    queue-02: [0;31mKO[0m
    queue-03: [0;31mKO[0m

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[0;32mOK[0m CLUSTER RABBITMQ DÃ‰PLOYÃ‰

Endpoints:
  â€¢ AMQP: queue-01:5672, queue-02:5672, queue-03:5672
  â€¢ Management: http://queue-01:15672

Credentials:
  â€¢ User: admin
  â€¢ Password: [dans /opt/keybuzz-installer/credentials/rabbitmq.env]

Prochaine Ã©tape: ./rabbitmq_lb_service.sh pour le Load Balancer
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Logs (50 derniÃ¨res lignes):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    âœ“ Container dÃ©marrÃ©
    âœ— queue-03: ProblÃ¨me de dÃ©marrage
â•‘ Ã‰TAPE 2: Formation du cluster                                  â•‘
  Ajout de queue-02 au cluster...
    âœ— Ã‰chec de jonction
  Ajout de queue-03 au cluster...
    âœ— Ã‰chec de jonction
    âœ“ Politiques HA configurÃ©es
â•‘ Ã‰TAPE 4: VÃ©rification du cluster                               â•‘
  Ã‰tat du cluster:
    queue-01: [0;31mKO[0m
    queue-02: [0;31mKO[0m
    queue-03: [0;31mKO[0m
[0;32mOK[0m CLUSTER RABBITMQ DÃ‰PLOYÃ‰
