
Installation RabbitMQ Quorum Cluster HA (3 nÅ“uds)
Timestamp: 2025-11-02 22:39:19

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Ã‰TAPE 0: VÃ©rifications prÃ©alables                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  Serveurs Queue trouvÃ©s: 3
  Serveurs HAProxy trouvÃ©s: 2
  queue-01: 10.0.0.126
  queue-02: 10.0.0.127
  queue-03: 10.0.0.128

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Ã‰TAPE 1: Gestion sÃ©curisÃ©e des credentials                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  Chargement des credentials existants...
./rabbitmq_ha_install_complete_FIXED.sh: line 70: RABBITMQ_ERLANG_COOKIE: unbound variable
  Cookie Erlang: e3b0c44298fc1c14...

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Ã‰TAPE 2: PrÃ©paration des serveurs Queue                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  PrÃ©paration de queue-01 (10.0.0.126)...
    Volume montÃ© (systÃ¨me: xfs)
    âœ“ PrÃ©parÃ© et nettoyÃ©
  PrÃ©paration de queue-02 (10.0.0.127)...
    Volume montÃ© (systÃ¨me: xfs)
    âœ“ PrÃ©parÃ© et nettoyÃ©
  PrÃ©paration de queue-03 (10.0.0.128)...
    Volume montÃ© (systÃ¨me: xfs)
    âœ“ PrÃ©parÃ© et nettoyÃ©

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Ã‰TAPE 3: DÃ©ploiement RabbitMQ sur chaque nÅ“ud                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  DÃ©ploiement sur queue-01 (10.0.0.126)...
time="2025-11-02T22:39:25Z" level=warning msg="/opt/keybuzz/rabbitmq/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
 rabbitmq Pulling 
 2d35ebdb57d9 Pulling fs layer 
 145a908b23a3 Pulling fs layer 
 8e2faa32a814 Pulling fs layer 
 99baa691242b Pulling fs layer 
 511a07cd0e3b Pulling fs layer 
 15e4457fe933 Pulling fs layer 
 164fc4fdd620 Pulling fs layer 
 17a970c33d8f Pulling fs layer 
 17209073a16d Pulling fs layer 
 ff1eac940fb8 Pulling fs layer 
 99baa691242b Waiting 
 511a07cd0e3b Waiting 
 15e4457fe933 Waiting 
 164fc4fdd620 Waiting 
 17a970c33d8f Waiting 
 17209073a16d Waiting 
 ff1eac940fb8 Waiting 
 2d35ebdb57d9 Downloading [>                                                  ]  38.29kB/3.802MB
 8e2faa32a814 Downloading [>                                                  ]  77.82kB/7.599MB
 145a908b23a3 Downloading [>                                                  ]  405.5kB/39.74MB
 2d35ebdb57d9 Verifying Checksum 
 2d35ebdb57d9 Download complete 
 2d35ebdb57d9 Extracting [>                                                  ]  65.54kB/3.802MB
 8e2faa32a814 Downloading [==================================================>]  7.599MB/7.599MB
 8e2faa32a814 Download complete 
 145a908b23a3 Downloading [==========>                                        ]  8.536MB/39.74MB
 2d35ebdb57d9 Extracting [=========================>                         ]  1.966MB/3.802MB
 2d35ebdb57d9 Extracting [==================================================>]  3.802MB/3.802MB
 2d35ebdb57d9 Pull complete 
 145a908b23a3 Downloading [==================>                                ]  15.05MB/39.74MB
 145a908b23a3 Downloading [=========================>                         ]  20.37MB/39.74MB
 145a908b23a3 Downloading [===================================>               ]  28.06MB/39.74MB
 99baa691242b Downloading [>                                                  ]  24.64kB/2.374MB
 145a908b23a3 Downloading [=========================================>         ]   33.3MB/39.74MB
 511a07cd0e3b Downloading [>                                                  ]  188.7kB/18.76MB
 99baa691242b Verifying Checksum 
 99baa691242b Download complete 
 145a908b23a3 Downloading [===============================================>   ]  37.75MB/39.74MB
 511a07cd0e3b Downloading [==========================>                        ]  9.957MB/18.76MB
 145a908b23a3 Verifying Checksum 
 145a908b23a3 Download complete 
 145a908b23a3 Extracting [>                                                  ]    426kB/39.74MB
 511a07cd0e3b Verifying Checksum 
 511a07cd0e3b Download complete 
 145a908b23a3 Extracting [==========>                                        ]   8.52MB/39.74MB
 145a908b23a3 Extracting [=====================>                             ]  17.04MB/39.74MB
 145a908b23a3 Extracting [================================>                  ]  25.99MB/39.74MB
 15e4457fe933 Downloading [==================================================>]     189B/189B
 15e4457fe933 Verifying Checksum 
 15e4457fe933 Download complete 
 145a908b23a3 Extracting [==========================================>        ]  33.65MB/39.74MB
 164fc4fdd620 Downloading [==================================================>]     109B/109B
 164fc4fdd620 Verifying Checksum 
 164fc4fdd620 Download complete 
 145a908b23a3 Extracting [==================================================>]  39.74MB/39.74MB
 145a908b23a3 Pull complete 
 8e2faa32a814 Extracting [>                                                  ]   98.3kB/7.599MB
 17a970c33d8f Downloading [==================================================>]     616B/616B
 17a970c33d8f Verifying Checksum 
 17a970c33d8f Download complete 
 8e2faa32a814 Extracting [======================================>            ]  5.898MB/7.599MB
 8e2faa32a814 Extracting [==================================================>]  7.599MB/7.599MB
 8e2faa32a814 Pull complete 
 99baa691242b Extracting [>                                                  ]  32.77kB/2.374MB
 99baa691242b Extracting [==================================================>]  2.374MB/2.374MB
 99baa691242b Pull complete 
 511a07cd0e3b Extracting [>                                                  ]  196.6kB/18.76MB
 17209073a16d Downloading [==================================================>]     827B/827B
 17209073a16d Verifying Checksum 
 17209073a16d Download complete 
 511a07cd0e3b Extracting [====================>                              ]  7.668MB/18.76MB
 ff1eac940fb8 Downloading [>                                                  ]  139.5kB/13.71MB
 511a07cd0e3b Extracting [================================>                  ]  12.19MB/18.76MB
 ff1eac940fb8 Downloading [============================>                      ]  7.746MB/13.71MB
 511a07cd0e3b Extracting [======================================>            ]  14.55MB/18.76MB
 ff1eac940fb8 Verifying Checksum 
 ff1eac940fb8 Download complete 
 511a07cd0e3b Extracting [==============================================>    ]   17.5MB/18.76MB
 511a07cd0e3b Extracting [==================================================>]  18.76MB/18.76MB
 511a07cd0e3b Pull complete 
 15e4457fe933 Extracting [==================================================>]     189B/189B
 15e4457fe933 Extracting [==================================================>]     189B/189B
 15e4457fe933 Pull complete 
 164fc4fdd620 Extracting [==================================================>]     109B/109B
 164fc4fdd620 Extracting [==================================================>]     109B/109B
 164fc4fdd620 Pull complete 
 17a970c33d8f Extracting [==================================================>]     616B/616B
 17a970c33d8f Extracting [==================================================>]     616B/616B
 17a970c33d8f Pull complete 
 17209073a16d Extracting [==================================================>]     827B/827B
 17209073a16d Extracting [==================================================>]     827B/827B
 17209073a16d Pull complete 
 ff1eac940fb8 Extracting [>                                                  ]  163.8kB/13.71MB
 ff1eac940fb8 Extracting [===============>                                   ]   4.26MB/13.71MB
 ff1eac940fb8 Extracting [========================>                          ]  6.717MB/13.71MB
 ff1eac940fb8 Extracting [==================================>                ]  9.503MB/13.71MB
 ff1eac940fb8 Extracting [==============================================>    ]  12.62MB/13.71MB
 ff1eac940fb8 Extracting [==================================================>]  13.71MB/13.71MB
 ff1eac940fb8 Pull complete 
 rabbitmq Pulled 
 Container rabbitmq  Creating
 Container rabbitmq  Created
 Container rabbitmq  Starting
 Container rabbitmq  Started
    âœ“ RabbitMQ dÃ©marrÃ©
  DÃ©ploiement sur queue-02 (10.0.0.127)...
time="2025-11-02T22:39:36Z" level=warning msg="/opt/keybuzz/rabbitmq/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
 rabbitmq Pulling 
 2d35ebdb57d9 Pulling fs layer 
 145a908b23a3 Pulling fs layer 
 8e2faa32a814 Pulling fs layer 
 99baa691242b Pulling fs layer 
 511a07cd0e3b Pulling fs layer 
 15e4457fe933 Pulling fs layer 
 164fc4fdd620 Pulling fs layer 
 17a970c33d8f Pulling fs layer 
 17209073a16d Pulling fs layer 
 ff1eac940fb8 Pulling fs layer 
 99baa691242b Waiting 
 511a07cd0e3b Waiting 
 15e4457fe933 Waiting 
 164fc4fdd620 Waiting 
 17a970c33d8f Waiting 
 17209073a16d Waiting 
 ff1eac940fb8 Waiting 
 8e2faa32a814 Downloading [>                                                  ]  76.86kB/7.599MB
 145a908b23a3 Downloading [>                                                  ]  401.4kB/39.74MB
 2d35ebdb57d9 Downloading [>                                                  ]  38.33kB/3.802MB
 2d35ebdb57d9 Verifying Checksum 
 2d35ebdb57d9 Download complete 
 2d35ebdb57d9 Extracting [>                                                  ]  65.54kB/3.802MB
 8e2faa32a814 Downloading [======================================>            ]  5.845MB/7.599MB
 145a908b23a3 Downloading [==========>                                        ]  8.516MB/39.74MB
 8e2faa32a814 Verifying Checksum 
 8e2faa32a814 Download complete 
 2d35ebdb57d9 Extracting [==================>                                ]  1.376MB/3.802MB
 145a908b23a3 Downloading [======================>                            ]  18.27MB/39.74MB
 2d35ebdb57d9 Extracting [==================================================>]  3.802MB/3.802MB
 2d35ebdb57d9 Pull complete 
 145a908b23a3 Downloading [=================================>                 ]  26.82MB/39.74MB
 145a908b23a3 Downloading [==============================================>    ]  36.97MB/39.74MB
 145a908b23a3 Download complete 
 145a908b23a3 Extracting [>                                                  ]    426kB/39.74MB
 99baa691242b Downloading [>                                                  ]  24.58kB/2.374MB
 99baa691242b Verifying Checksum 
 99baa691242b Download complete 
 145a908b23a3 Extracting [========>                                          ]   6.39MB/39.74MB
 511a07cd0e3b Downloading [>                                                  ]  188.7kB/18.76MB
 145a908b23a3 Extracting [================>                                  ]  13.21MB/39.74MB
 511a07cd0e3b Downloading [=============================>                     ]  11.21MB/18.76MB
 511a07cd0e3b Verifying Checksum 
 511a07cd0e3b Download complete 
 145a908b23a3 Extracting [=====================>                             ]  17.47MB/39.74MB
 145a908b23a3 Extracting [==============================>                    ]  24.28MB/39.74MB
 15e4457fe933 Downloading [==================================================>]     189B/189B
 15e4457fe933 Verifying Checksum 
 15e4457fe933 Download complete 
 145a908b23a3 Extracting [======================================>            ]  30.67MB/39.74MB
 164fc4fdd620 Downloading [==================================================>]     109B/109B
 164fc4fdd620 Verifying Checksum 
 164fc4fdd620 Download complete 
 145a908b23a3 Extracting [===============================================>   ]  37.91MB/39.74MB
 145a908b23a3 Extracting [==================================================>]  39.74MB/39.74MB
 145a908b23a3 Pull complete 
 8e2faa32a814 Extracting [>                                                  ]   98.3kB/7.599MB
 8e2faa32a814 Extracting [=======================>                           ]  3.539MB/7.599MB
 17a970c33d8f Downloading [==================================================>]     616B/616B
 17a970c33d8f Verifying Checksum 
 17a970c33d8f Download complete 
 8e2faa32a814 Extracting [==================================================>]  7.599MB/7.599MB
 8e2faa32a814 Pull complete 
 99baa691242b Extracting [>                                                  ]  32.77kB/2.374MB
 17209073a16d Downloading [==================================================>]     827B/827B
 17209073a16d Verifying Checksum 
 17209073a16d Download complete 
 99baa691242b Extracting [==================================================>]  2.374MB/2.374MB
 ff1eac940fb8 Downloading [>                                                  ]  139.5kB/13.71MB
 99baa691242b Pull complete 
 511a07cd0e3b Extracting [>                                                  ]  196.6kB/18.76MB
 ff1eac940fb8 Downloading [==============================>                    ]   8.29MB/13.71MB
 511a07cd0e3b Extracting [=============>                                     ]  5.112MB/18.76MB
 ff1eac940fb8 Verifying Checksum 
 ff1eac940fb8 Download complete 
 511a07cd0e3b Extracting [==========================>                        ]   9.83MB/18.76MB
 511a07cd0e3b Extracting [=======================================>           ]  14.94MB/18.76MB
 511a07cd0e3b Extracting [===============================================>   ]  17.89MB/18.76MB
 511a07cd0e3b Extracting [==================================================>]  18.76MB/18.76MB
 511a07cd0e3b Pull complete 
 15e4457fe933 Extracting [==================================================>]     189B/189B
 15e4457fe933 Extracting [==================================================>]     189B/189B
 15e4457fe933 Pull complete 
 164fc4fdd620 Extracting [==================================================>]     109B/109B
 164fc4fdd620 Extracting [==================================================>]     109B/109B
 164fc4fdd620 Pull complete 
 17a970c33d8f Extracting [==================================================>]     616B/616B
 17a970c33d8f Extracting [==================================================>]     616B/616B
 17a970c33d8f Pull complete 
 17209073a16d Extracting [==================================================>]     827B/827B
 17209073a16d Extracting [==================================================>]     827B/827B
 17209073a16d Pull complete 
 ff1eac940fb8 Extracting [>                                                  ]  163.8kB/13.71MB
 ff1eac940fb8 Extracting [==============>                                    ]  3.932MB/13.71MB
 ff1eac940fb8 Extracting [=======================>                           ]   6.39MB/13.71MB
 ff1eac940fb8 Extracting [=============================>                     ]  8.192MB/13.71MB
 ff1eac940fb8 Extracting [============================================>      ]  12.12MB/13.71MB
 ff1eac940fb8 Extracting [==================================================>]  13.71MB/13.71MB
 ff1eac940fb8 Pull complete 
 rabbitmq Pulled 
 Container rabbitmq  Creating
 Container rabbitmq  Created
 Container rabbitmq  Starting
 Container rabbitmq  Started
    âœ“ RabbitMQ dÃ©marrÃ©
  DÃ©ploiement sur queue-03 (10.0.0.128)...
time="2025-11-02T22:39:47Z" level=warning msg="/opt/keybuzz/rabbitmq/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
 rabbitmq Pulling 
 2d35ebdb57d9 Pulling fs layer 
 145a908b23a3 Pulling fs layer 
 8e2faa32a814 Pulling fs layer 
 99baa691242b Pulling fs layer 
 511a07cd0e3b Pulling fs layer 
 15e4457fe933 Pulling fs layer 
 164fc4fdd620 Pulling fs layer 
 17a970c33d8f Pulling fs layer 
 17209073a16d Pulling fs layer 
 ff1eac940fb8 Pulling fs layer 
 99baa691242b Waiting 
 164fc4fdd620 Waiting 
 511a07cd0e3b Waiting 
 15e4457fe933 Waiting 
 17a970c33d8f Waiting 
 17209073a16d Waiting 
 ff1eac940fb8 Waiting 
 8e2faa32a814 Downloading [>                                                  ]  76.86kB/7.599MB
 145a908b23a3 Downloading [>                                                  ]  409.6kB/39.74MB
 2d35ebdb57d9 Downloading [>                                                  ]  38.33kB/3.802MB
 8e2faa32a814 Verifying Checksum 
 8e2faa32a814 Download complete 
 145a908b23a3 Downloading [=============>                                     ]  10.98MB/39.74MB
 2d35ebdb57d9 Downloading [===============================================>   ]  3.604MB/3.802MB
 2d35ebdb57d9 Verifying Checksum 
 2d35ebdb57d9 Download complete 
 2d35ebdb57d9 Extracting [>                                                  ]  65.54kB/3.802MB
 145a908b23a3 Downloading [========================>                          ]  19.13MB/39.74MB
 2d35ebdb57d9 Extracting [=====================================>             ]  2.818MB/3.802MB
 2d35ebdb57d9 Extracting [==================================================>]  3.802MB/3.802MB
 2d35ebdb57d9 Pull complete 
 145a908b23a3 Downloading [==================================>                ]  27.28MB/39.74MB
 145a908b23a3 Downloading [===========================================>       ]  34.18MB/39.74MB
 145a908b23a3 Verifying Checksum 
 145a908b23a3 Download complete 
 145a908b23a3 Extracting [>                                                  ]    426kB/39.74MB
 99baa691242b Downloading [>                                                  ]  24.64kB/2.374MB
 99baa691242b Verifying Checksum 
 99baa691242b Download complete 
 511a07cd0e3b Downloading [>                                                  ]  189.9kB/18.76MB
 145a908b23a3 Extracting [=========>                                         ]  7.668MB/39.74MB
 511a07cd0e3b Downloading [===========================>                       ]  10.47MB/18.76MB
 145a908b23a3 Extracting [==================>                                ]  14.48MB/39.74MB
 511a07cd0e3b Verifying Checksum 
 511a07cd0e3b Download complete 
 145a908b23a3 Extracting [=========================>                         ]  20.45MB/39.74MB
 145a908b23a3 Extracting [===================================>               ]  28.11MB/39.74MB
 15e4457fe933 Downloading [==================================================>]     189B/189B
 15e4457fe933 Verifying Checksum 
 15e4457fe933 Download complete 
 145a908b23a3 Extracting [===============================================>   ]  37.91MB/39.74MB
 145a908b23a3 Extracting [==================================================>]  39.74MB/39.74MB
 164fc4fdd620 Downloading [==================================================>]     109B/109B
 164fc4fdd620 Verifying Checksum 
 164fc4fdd620 Download complete 
 145a908b23a3 Pull complete 
 8e2faa32a814 Extracting [>                                                  ]   98.3kB/7.599MB
 8e2faa32a814 Extracting [==============================>                    ]   4.62MB/7.599MB
 8e2faa32a814 Extracting [==================================================>]  7.599MB/7.599MB
 8e2faa32a814 Pull complete 
 99baa691242b Extracting [>                                                  ]  32.77kB/2.374MB
 17a970c33d8f Downloading [==================================================>]     616B/616B
 17a970c33d8f Verifying Checksum 
 17a970c33d8f Download complete 
 99baa691242b Extracting [==================================================>]  2.374MB/2.374MB
 99baa691242b Pull complete 
 511a07cd0e3b Extracting [>                                                  ]  196.6kB/18.76MB
 17209073a16d Downloading [==================================================>]     827B/827B
 17209073a16d Verifying Checksum 
 17209073a16d Download complete 
 ff1eac940fb8 Downloading [>                                                  ]  139.7kB/13.71MB
 511a07cd0e3b Extracting [==================>                                ]  6.881MB/18.76MB
 ff1eac940fb8 Downloading [=================================>                 ]  9.224MB/13.71MB
 511a07cd0e3b Extracting [===========================>                       ]  10.22MB/18.76MB
 ff1eac940fb8 Verifying Checksum 
 ff1eac940fb8 Download complete 
 511a07cd0e3b Extracting [=====================================>             ]  13.96MB/18.76MB
 511a07cd0e3b Extracting [==========================================>        ]  16.12MB/18.76MB
 511a07cd0e3b Extracting [==================================================>]  18.76MB/18.76MB
 511a07cd0e3b Pull complete 
 15e4457fe933 Extracting [==================================================>]     189B/189B
 15e4457fe933 Extracting [==================================================>]     189B/189B
 15e4457fe933 Pull complete 
 164fc4fdd620 Extracting [==================================================>]     109B/109B
 164fc4fdd620 Extracting [==================================================>]     109B/109B
 164fc4fdd620 Pull complete 
 17a970c33d8f Extracting [==================================================>]     616B/616B
 17a970c33d8f Extracting [==================================================>]     616B/616B
 17a970c33d8f Pull complete 
 17209073a16d Extracting [==================================================>]     827B/827B
 17209073a16d Extracting [==================================================>]     827B/827B
 17209073a16d Pull complete 
 ff1eac940fb8 Extracting [>                                                  ]  163.8kB/13.71MB
 ff1eac940fb8 Extracting [==============>                                    ]  4.096MB/13.71MB
 ff1eac940fb8 Extracting [=======================>                           ]  6.554MB/13.71MB
 ff1eac940fb8 Extracting [================================>                  ]  9.011MB/13.71MB
 ff1eac940fb8 Extracting [==========================================>        ]  11.63MB/13.71MB
 ff1eac940fb8 Extracting [=================================================> ]   13.6MB/13.71MB
 ff1eac940fb8 Extracting [==================================================>]  13.71MB/13.71MB
 ff1eac940fb8 Pull complete 
 rabbitmq Pulled 
 Container rabbitmq  Creating
 Container rabbitmq  Created
 Container rabbitmq  Starting
 Container rabbitmq  Started
    âœ“ RabbitMQ dÃ©marrÃ©

  Attente de stabilisation (20s)...

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Ã‰TAPE 4: Formation du cluster RabbitMQ                         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  Ã‰tat initial de queue-01...
Cluster status of node rabbit@queue-01 ...
Cluster name: rabbit@queue-01
rabbit@queue-01
Running Nodes
rabbit@queue-01
rabbit@queue-01: RabbitMQ 3.13.7 on Erlang 26.2.5.15
Node: rabbit@queue-01, available CPU cores: 2
Node: rabbit@queue-01, status: not under maintenance
Node: rabbit@queue-01, interface: [::], port: 15672, protocol: http, purpose: HTTP API
Node: rabbit@queue-01, interface: [::], port: 15692, protocol: http/prometheus, purpose: Prometheus exporter API over HTTP
Node: rabbit@queue-01, interface: [::], port: 25672, protocol: clustering, purpose: inter-node and CLI tool communication
Node: rabbit@queue-01, interface: [::], port: 5672, protocol: amqp, purpose: AMQP 0-9-1 and AMQP 1.0

  Ajout de queue-02 au cluster...
Welcome to Ubuntu 24.04.3 LTS (GNU/Linux 6.8.0-71-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

 System information as of Sun Nov  2 10:39:22 PM UTC 2025

  System load:  0.0               Processes:             138
  Usage of /:   5.3% of 37.23GB   Users logged in:       0
  Memory usage: 13%               IPv4 address for eth0: 91.98.167.159
  Swap usage:   0%                IPv6 address for eth0: 2a01:4f8:1c1b:9e02::1


Expanded Security Maintenance for Applications is not enabled.

53 updates can be applied immediately.
25 of these updates are standard security updates.
To see these additional updates run: apt list --upgradable

Enable ESM Apps to receive additional future security updates.
See https://ubuntu.com/esm or run: sudo pro status


Stopping rabbit application on node rabbit@queue-02 ...
Resetting node rabbit@queue-02 ...
Clustering node rabbit@queue-02 with rabbit@queue-01

22:40:25.175 [error] Feature flags: error while running:
Feature flags:   rabbit_ff_controller:running_nodes[]
Feature flags: on node `rabbit@queue-01`:
Feature flags:   exception error: {erpc,noconnection}
Feature flags:     in function  erpc:call/5 (erpc.erl, line 710)
Feature flags:     in call from rabbit_ff_controller:rpc_call/5 (rabbit_ff_controller.erl, line 1384)
Feature flags:     in call from rabbit_ff_controller:list_nodes_clustered_with/1 (rabbit_ff_controller.erl, line 486)
Feature flags:     in call from rabbit_ff_controller:check_node_compatibility_task/2 (rabbit_ff_controller.erl, line 398)
Feature flags:     in call from rabbit_db_cluster:can_join/1 (rabbit_db_cluster.erl, line 59)
Feature flags:     in call from rabbit_db_cluster:join/2 (rabbit_db_cluster.erl, line 91)
Feature flags:     in call from erpc:execute_call/4 (erpc.erl, line 589)

Starting node rabbit@queue-02 ...
    âœ— Ã‰chec de jonction queue-02

  Ajout de queue-03 au cluster...
Welcome to Ubuntu 24.04.3 LTS (GNU/Linux 6.8.0-71-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

 System information as of Sun Nov  2 10:40:31 PM UTC 2025

  System load:  0.24              Processes:             154
  Usage of /:   5.8% of 37.23GB   Users logged in:       0
  Memory usage: 20%               IPv4 address for eth0: 91.98.68.35
  Swap usage:   0%                IPv6 address for eth0: 2a01:4f8:1c1a:b50c::1


Expanded Security Maintenance for Applications is not enabled.

53 updates can be applied immediately.
25 of these updates are standard security updates.
To see these additional updates run: apt list --upgradable

Enable ESM Apps to receive additional future security updates.
See https://ubuntu.com/esm or run: sudo pro status


Stopping rabbit application on node rabbit@queue-03 ...
Resetting node rabbit@queue-03 ...
Clustering node rabbit@queue-03 with rabbit@queue-01

22:40:38.544 [error] Feature flags: error while running:
Feature flags:   rabbit_ff_controller:running_nodes[]
Feature flags: on node `rabbit@queue-01`:
Feature flags:   exception error: {erpc,noconnection}
Feature flags:     in function  erpc:call/5 (erpc.erl, line 710)
Feature flags:     in call from rabbit_ff_controller:rpc_call/5 (rabbit_ff_controller.erl, line 1384)
Feature flags:     in call from rabbit_ff_controller:list_nodes_clustered_with/1 (rabbit_ff_controller.erl, line 486)
Feature flags:     in call from rabbit_ff_controller:check_node_compatibility_task/2 (rabbit_ff_controller.erl, line 398)
Feature flags:     in call from rabbit_db_cluster:can_join/1 (rabbit_db_cluster.erl, line 59)
Feature flags:     in call from rabbit_db_cluster:join/2 (rabbit_db_cluster.erl, line 91)
Feature flags:     in call from erpc:execute_call/4 (erpc.erl, line 589)

Starting node rabbit@queue-03 ...
    âœ— Ã‰chec de jonction queue-03

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Ã‰TAPE 5: Configuration des politiques HA                       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Welcome to Ubuntu 24.04.3 LTS (GNU/Linux 6.8.0-71-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

 System information as of Sun Nov  2 10:40:53 PM UTC 2025

  System load:  0.14              Processes:             153
  Usage of /:   5.8% of 37.23GB   Users logged in:       0
  Memory usage: 22%               IPv4 address for eth0: 23.88.105.16
  Swap usage:   0%                IPv6 address for eth0: 2a01:4f8:1c1c:20de::1


Expanded Security Maintenance for Applications is not enabled.

53 updates can be applied immediately.
25 of these updates are standard security updates.
To see these additional updates run: apt list --upgradable

Enable ESM Apps to receive additional future security updates.
See https://ubuntu.com/esm or run: sudo pro status


Setting policy "ha-all" for pattern ".*" to "{"ha-mode":"all","ha-sync-mode":"automatic"}" with priority "0" for vhost "/" ...
Setting policy "quorum-queues" for pattern "^quorum\." to "{"queue-type":"quorum"}" with priority "1" for vhost "/" ...
Error:
Validation failed

[{<<"queue-type">>,<<"quorum">>}] are not recognised policy settings

    âœ“ Politiques HA configurÃ©es

  Ã‰tat final du cluster:
Running Nodes

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Ã‰TAPE 6: Configuration Load Balancer sur HAProxy               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  Configuration de haproxy-01 (10.0.0.11)...
6e28ef8547ec539af6d88b5f25316f0b78ff0383b64310407087304c57d32719
    âœ“ HAProxy RabbitMQ dÃ©marrÃ©
Rule added
Rule added (v6)
Rule added
Rule added (v6)
Rule added
Rule added (v6)
Firewall reloaded
  Configuration de haproxy-02 (10.0.0.12)...
24641afbf27379029a1732e404e34945e4b4741c16212bcbc8882df24d5405b1
    âœ“ HAProxy RabbitMQ dÃ©marrÃ©
Rule added
Rule added (v6)
Rule added
Rule added (v6)
Rule added
Rule added (v6)
Firewall reloaded

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Ã‰TAPE 7: Tests finaux                                          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  Test des nÅ“uds RabbitMQ:
    queue-01 AMQP (5672): [0;32mOK[0m
    queue-02 AMQP (5672): [0;32mOK[0m
    queue-03 AMQP (5672): [0;32mOK[0m

  Test des HAProxy:
    haproxy-01 AMQP (5672): [0;32mOK[0m
    haproxy-01 Management (15672): [0;32mOK[0m
    haproxy-02 AMQP (5672): [0;32mOK[0m
    haproxy-02 Management (15672): [0;32mOK[0m

  Test via Load Balancer VIP (10.0.0.10):
    AMQP (5672): [0;32mOK[0m
    Management (15672): [0;32mOK[0m

  Test authentification Management UI:
./rabbitmq_ha_install_complete_FIXED.sh: line 463: RABBITMQ_ADMIN_USER: unbound variable
    Code HTTP: 

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
./rabbitmq_ha_install_complete_FIXED.sh: line 479: RABBITMQ_ADMIN_USER: unbound variable
[0;32mOK[0m RABBITMQ HA INSTALLATION COMPLÃˆTE ET OPÃ‰RATIONNELLE

Endpoints:
  â€¢ AMQP: 10.0.0.10:5672
  â€¢ Management: http://10.0.0.10:15672
./rabbitmq_ha_install_complete_FIXED.sh: line 533: RABBITMQ_ADMIN_USER: unbound variable
